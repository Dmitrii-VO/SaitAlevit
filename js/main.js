/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";function e(){var n,r,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.toStringTag||"@@toStringTag";function i(e,a,o,c){var i=a&&a.prototype instanceof l?a:l,u=Object.create(i.prototype);return t(u,"_invoke",function(e,t,a){var o,c,i,l=0,u=a||[],d=!1,f={p:0,n:0,v:n,a:v,f:v.bind(n,4),d:function(e,t){return o=e,c=0,i=n,f.n=t,s}};function v(e,t){for(c=e,i=t,r=0;!d&&l&&!a&&r<u.length;r++){var a,o=u[r],v=f.p,p=o[2];e>3?(a=p===t)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=v&&((a=e<2&&v<o[1])?(c=0,f.v=t,f.n=o[1]):v<p&&(a=e<3||o[0]>t||t>p)&&(o[4]=e,o[5]=t,f.n=p,c=0))}if(a||e>1)return s;throw d=!0,t}return function(a,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&v(u,p),c=u,i=p;(r=c<2?n:i)||!d;){o||(c?c<3?(c>1&&(f.n=-1),v(c,i)):f.n=i:f.v=i);try{if(l=2,o){if(c||(a="next"),r=o[a]){if(!(r=r.call(o,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,c<2&&(c=0)}else 1===c&&(r=o.return)&&r.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((r=(d=f.n<0)?i:e.call(t,f))!==s)break}catch(e){o=n,c=1,i=e}finally{l=1}}return{value:r,done:d}}}(e,o,c),!0),u}var s={};function l(){}function u(){}function d(){}r=Object.getPrototypeOf;var f=[][o]?r(r([][o]())):(t(r={},o,function(){return this}),r),v=d.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e}return u.prototype=d,t(v,"constructor",d),t(d,"constructor",u),u.displayName="GeneratorFunction",t(d,c,"GeneratorFunction"),t(v),t(v,c,"Generator"),t(v,o,function(){return this}),t(v,"toString",function(){return"[object Generator]"}),(e=function(){return{w:i,m:p}})()}function t(e,n,r,a){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}t=function(e,n,r,a){function c(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?o?o(e,n,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[n]=r:(c("next",0),c("throw",1),c("return",2))},t(e,n,r,a)}function n(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function r(e){return a.apply(this,arguments)}function a(){var t;return t=e().m(function t(n){var r,a;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(n);case 1:if((r=e.v).ok){e.n=3;break}return e.n=2,fetch("/"+n);case 2:r=e.v;case 3:if(r.ok){e.n=4;break}throw new Error("HTTP error! status: ".concat(r.status));case 4:return e.n=5,r.json();case 5:return e.a(2,e.v);case 6:return e.p=6,a=e.v,console.error("Ошибка загрузки ".concat(n,":"),a),e.a(2,null)}},t,null,[[0,6]])}),a=function(){var e=this,r=arguments;return new Promise(function(a,o){var c=t.apply(e,r);function i(e){n(c,a,o,i,s,"next",e)}function s(e){n(c,a,o,i,s,"throw",e)}i(void 0)})},a.apply(this,arguments)}function o(e){if(!e)return"";var t=e.toLowerCase();return t.includes("построен")||t.includes("сдан")?"Построен":t.includes("строит")?"Строится":e}function c(e){if(!e)return"";var t=document.createElement("div");return t.textContent=e,t.innerHTML}var i={phone:'<path d="M22 16.92V19.92C22 20.52 21.52 21 20.92 21C9.4 21 0 11.6 0 0.08C0 -0.52 0.48 -1 1.08 -1H4.08C4.68 -1 5.16 -0.52 5.16 0.08C5.16 1.08 5.36 2.04 5.72 2.92C5.88 3.32 5.84 3.8 5.6 4.16L3.88 6.88C4.6 9.24 6.76 11.4 9.12 12.12L11.84 10.4C12.2 10.16 12.68 10.12 13.08 10.28C13.96 10.64 14.92 10.84 15.92 10.84C16.52 10.84 17 11.32 17 11.92V14.92C17 15.52 16.52 16 15.92 16H22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',email:'<path d="M4 4H20C21 4 22 5 22 6V18C22 19 21 20 20 20H4C3 20 2 19 2 18V6C2 5 3 4 4 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 6L12 13L2 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',address:'<path d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>'};function s(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=document.createElement("div");o.className="contacts__item";var s=c(t),l=c(n),u=r?c(r):"#";return o.innerHTML='\n        <div class="contacts__item-icon">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                '.concat(i[e]||"",'\n            </svg>\n        </div>\n        <div class="contacts__item-content">\n            <h3 class="contacts__item-title">').concat(s,"</h3>\n            ").concat(a?'<p class="contacts__item-text">'.concat(l,"</p>"):'<a href="'.concat(u,'" class="contacts__item-link">').concat(l,"</a>"),"\n        </div>\n    "),o}function l(e,t){if(!(e&&"#"!==e||t&&"#"!==t))return null;var n=document.createElement("div");n.className="contacts__social";var r,a="";return e&&"#"!==e&&(a+=(r=c(e),'\n        <a href="'.concat(r,'" class="contacts__social-link contacts__social-link--whatsapp" aria-label="WhatsApp" target="_blank">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M17.472 14.382C17.231 14.283 15.243 13.432 14.875 13.305C14.507 13.178 14.273 13.115 14.04 13.385C13.806 13.655 13.011 14.477 12.81 14.699C12.608 14.921 12.406 14.958 12.165 14.859C11.925 14.76 10.876 14.449 9.593 13.305C8.556 12.38 7.83 11.237 7.628 10.967C7.427 10.697 7.593 10.562 7.765 10.395C7.914 10.25 8.084 10.03 8.215 9.85C8.346 9.67 8.409 9.53 8.508 9.33C8.607 9.13 8.545 8.95 8.446 8.8C8.347 8.65 7.496 6.662 7.195 5.87C6.899 5.09 6.6 5.19 6.435 5.18C6.27 5.17 6.08 5.17 5.89 5.17C5.7 5.17 5.445 5.23 5.225 5.48C5.005 5.73 4.405 6.33 4.405 7.63C4.405 8.93 5.305 10.17 5.425 10.35C5.545 10.53 7.183 13.305 9.703 14.5C10.483 14.9 11.063 15.12 11.483 15.27C12.023 15.47 12.503 15.45 12.883 15.38C13.303 15.3 14.333 14.7 14.583 14.05C14.833 13.4 14.833 12.82 14.733 12.68C14.633 12.54 14.473 12.48 14.232 12.38H17.472Z" fill="currentColor"/>\n                <path d="M12 0C5.373 0 0 5.373 0 12C0 13.894 0.48 15.67 1.32 17.21L0 24L6.79 22.68C8.33 23.52 10.106 24 12 24C18.627 24 24 18.627 24 12C24 5.373 18.627 0 12 0ZM12 21.6C10.39 21.6 8.88 21.12 7.6 20.28L7.2 20.04L3.12 21.12L4.2 17.16L3.96 16.76C3.12 15.48 2.64 13.97 2.64 12.36C2.64 6.756 6.756 2.64 12.36 2.64C17.964 2.64 22.08 6.756 22.08 12.36C22.08 17.964 17.964 22.08 12.36 22.08H12Z" fill="currentColor"/>\n            </svg>\n            <span>WhatsApp</span>\n        </a>\n    '))),t&&"#"!==t&&(a+=function(e){var t=c(e);return'\n        <a href="'.concat(t,'" class="contacts__social-link contacts__social-link--telegram" aria-label="Telegram" target="_blank">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M12 0C5.373 0 0 5.373 0 12C0 18.627 5.373 24 12 24C18.627 24 24 18.627 24 12C24 5.373 18.627 0 12 0ZM17.894 8.221L15.68 17.896C15.68 17.896 15.474 18.5 14.842 18.5C14.21 18.5 13.789 18.105 13.789 18.105L10.842 15.526L9.263 14.105L6.316 11.158C6.316 11.158 5.737 10.579 6.316 10C6.895 9.421 7.474 9.421 7.474 9.421L14.842 13.263L17.789 10.316C17.789 10.316 18.368 9.737 17.789 9.158C17.21 8.579 16.421 8.579 16.421 8.579L8.421 11.526L6.316 10.737C6.316 10.737 5.737 10.368 6.316 9.789C6.895 9.21 7.684 9.21 7.684 9.21L17.684 7.684C17.684 7.684 18.5 7.263 17.894 8.221Z" fill="currentColor"/>\n            </svg>\n            <span>Telegram</span>\n        </a>\n    ')}(t)),a&&(n.innerHTML='\n            <h3 class="contacts__social-title">Мессенджеры</h3>\n            <div class="contacts__social-links">\n                '.concat(a,"\n            </div>\n        ")),n}function u(e){var t=document.createElement("div");t.className="projects__card";var n=e.description||"одноэтажный дом ".concat(e.area," м²"),r=new Intl.NumberFormat("ru-RU").format(e.price),a=e.mainImage||"",o="".concat(e.title," - ").concat(n),i=JSON.stringify(e.gallery||[e.mainImage].filter(Boolean));return t.innerHTML='\n        <div class="projects__card-image">\n            <img src="'.concat(a,'" alt="').concat(c(o),"\" class=\"projects__card-img\" loading=\"lazy\" onerror=\"this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'400\\' height=\\'300\\'%3E%3Crect fill=\\'%23f5f5f5\\' width=\\'400\\' height=\\'300\\'/%3E%3Ctext fill=\\'%23999\\' x=\\'50%25\\' y=\\'50%25\\' text-anchor=\\'middle\\' dominant-baseline=\\'middle\\'%3EНет фото%3C/text%3E%3C/svg%3E';\">\n        </div>\n        <div class=\"projects__card-content\">\n            <h3 class=\"projects__card-title\">").concat(c(e.title),'</h3>\n            <ul class="projects__card-specs">\n                <li class="projects__card-spec">\n                    <span class="projects__card-spec-label">Этажность:</span>\n                    <span class="projects__card-spec-value">').concat(c(e.floors||"1 этаж"),'</span>\n                </li>\n                <li class="projects__card-spec">\n                    <span class="projects__card-spec-label">Площадь:</span>\n                    <span class="projects__card-spec-value"><strong>').concat(e.area,'</strong> м²</span>\n                </li>\n                <li class="projects__card-spec">\n                    <span class="projects__card-spec-label">Стоимость:</span>\n                    <span class="projects__card-spec-value"><strong>').concat(r,'</strong> ₽</span>\n                </li>\n            </ul>\n            <button class="btn btn--primary projects__gallery-btn" \n                    data-project-id="').concat(c(e.id),'" \n                    data-project-title="').concat(c(e.title),"\"\n                    data-images='").concat(i,"'>\n                Смотреть все фото\n            </button>\n        </div>\n    "),t}function d(e){var t=document.createElement("article");t.className="reviews__card";var n=e.videoUrl?'<iframe src="'.concat(c(e.videoUrl),'" class="reviews__card-video-iframe" frameborder="0" allowfullscreen></iframe>'):'<div class="reviews__card-video-placeholder">\n            <svg class="reviews__card-video-icon" width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>\n                <path d="M10 8L16 12L10 16V8Z" fill="currentColor"/>\n            </svg>\n            <span class="reviews__card-video-text">Видео отзыв</span>\n        </div>';return t.innerHTML='\n        <div class="reviews__card-video">\n            '.concat(n,'\n        </div>\n        <div class="reviews__card-content">\n            <p class="reviews__card-author">').concat(c(e.clientName||"Клиент"),"</p>\n            ").concat(e.houseName?'<p class="reviews__card-house">'.concat(c(e.houseName),"</p>"):"",'\n            <p class="reviews__card-text">"').concat(c(e.reviewText||""),'"</p>\n        </div>\n    '),t}function f(e){var t=document.createElement("article");return t.className="reviews__text-item",t.innerHTML='\n        <div class="reviews__text-quote">\n            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M3 21C3 17.4 5.4 15 9 15C10.6 15 12 15.6 13 16.6M21 21C21 17.4 18.6 15 15 15C13.4 15 12 15.6 11 16.6M13 8C13 9.65685 11.6569 11 10 11C8.34315 11 7 9.65685 7 8C7 6.34315 8.34315 5 10 5C11.6569 5 13 6.34315 13 8ZM17 8C17 9.65685 15.6569 11 14 11C12.3431 11 11 9.65685 11 8C11 6.34315 12.3431 5 14 5C15.6569 5 17 6.34315 17 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n        </div>\n        <p class="reviews__text-content">"'.concat(c(e.reviewText||""),'"</p>\n        <div class="reviews__text-meta">\n            <p class="reviews__text-author">').concat(c(e.clientName||"Клиент"),"</p>\n            ").concat(e.houseName?'<p class="reviews__text-house">'.concat(c(e.houseName),"</p>"):"","\n        </div>\n    "),t}function v(e,t){var n=document.createElement("div");n.className="works__card";var r=e.mainImage||"",a=e.gallery||[r].filter(Boolean),o=JSON.stringify(a),i=t?t(e.workStatus):"";return n.innerHTML='\n        <div class="works__card-image">\n            <img src="'.concat(c(r),'" alt="').concat(c(e.title||"Работа")," - построенный дом компании АЛЕВИТ СТРОЙ\" class=\"works__card-img\" loading=\"lazy\" onerror=\"this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'400\\' height=\\'300\\'%3E%3Crect fill=\\'%23f5f5f5\\' width=\\'400\\' height=\\'300\\'/%3E%3Ctext fill=\\'%23999\\' x=\\'50%25\\' y=\\'50%25\\' text-anchor=\\'middle\\' dominant-baseline=\\'middle\\'%3EНет фото%3C/text%3E%3C/svg%3E';\">\n            ").concat(i?'<div class="works__card-badge works__card-badge--completed">'.concat(c(i),"</div>"):"",'\n        </div>\n        <div class="works__card-content">\n            <h3 class="works__card-title">').concat(c(e.title||"Работа"),'</h3>\n            <ul class="works__card-specs">\n                ').concat(e.area?'\n                    <li class="works__card-spec">\n                        <span class="works__card-spec-label">Площадь:</span>\n                        <span class="works__card-spec-value"><strong>'.concat(e.area,"</strong> м²</span>\n                    </li>\n                "):"","\n                ").concat(e.format?'\n                    <li class="works__card-spec">\n                        <span class="works__card-spec-label">Формат:</span>\n                        <span class="works__card-spec-value">'.concat(c(e.format),"</span>\n                    </li>\n                "):"","\n                ").concat(e.workStatus?'\n                    <li class="works__card-spec">\n                        <span class="works__card-spec-label">Статус:</span>\n                        <span class="works__card-spec-value works__card-spec-value--success">'.concat(c(e.workStatus),"</span>\n                    </li>\n                "):"","\n            </ul>\n            ").concat(e.description?'<p class="works__card-description">'.concat(c(e.description),"</p>"):"","\n            ").concat(a.length>0?'<button class="btn btn--primary works__gallery-btn" data-project="'.concat(c(e.title||"Работа"),"\" data-images='").concat(o,"'>Смотреть все фото</button>"):"","\n        </div>\n    "),n}function p(e){var t=document.querySelector(".floating-button--phone");if(t&&e.phone){var n="tel:".concat(e.phone.replace(/\D/g,""));t.setAttribute("href",n)}var r=document.querySelector(".floating-button--whatsapp");r&&e.whatsapp&&"#"!==e.whatsapp&&r.setAttribute("href",e.whatsapp)}function m(e){e&&document.querySelectorAll('script[type="application/ld+json"]').forEach(function(t){try{var n=JSON.parse(t.textContent),r=!1;if(e.phone&&(n.telephone&&(n.telephone=e.phone,r=!0),n.contactPoint&&n.contactPoint.telephone&&(n.contactPoint.telephone=e.phone,r=!0)),e.email&&n.email&&(n.email=e.email,r=!0),e.address&&n.address){var a=function(e){if(!e)return null;var t={streetAddress:"",addressLocality:"",addressRegion:""},n=e.match(/(ул\.\s*[^,]+,\s*д\.\s*\d+)/i);n&&(t.streetAddress=n[1]);var r=e.match(/(?:с\.|село|г\.|город|пос\.|посёлок)\s*([^,]+)/i);r&&(t.addressLocality=r[1].trim());var a=e.match(/([^,]+область)/i);return a&&(t.addressRegion=a[1].trim()),Object.keys(t).some(function(e){return t[e]})?t:null}(e.address);a&&(a.streetAddress&&(n.address.streetAddress=a.streetAddress),a.addressLocality&&(n.address.addressLocality=a.addressLocality),a.addressRegion&&(n.address.addressRegion=a.addressRegion),r=!0)}r&&(t.textContent=JSON.stringify(n,null,2))}catch(e){console.error("Ошибка обновления schema.org:",e)}})}var h=!1,_=!1;function y(){var e=document.querySelector(".projects__track"),t=document.querySelector(".projects__arrow--prev"),n=document.querySelector(".projects__arrow--next");if(e&&t&&n&&!h){var r=e.querySelectorAll(".projects__card");if(0!==r.length){var a,o=0,c=(r[0].offsetWidth||300)+24;t.addEventListener("click",function(){o=Math.max(0,o-c),e.scrollTo({left:o,behavior:"smooth"}),i()}),n.addEventListener("click",function(){var t=e.scrollWidth-e.offsetWidth;o=Math.min(t,o+c),e.scrollTo({left:o,behavior:"smooth"}),i()}),h=!0,i(),window.projectsResizeHandler||(window.projectsResizeHandler=function(){clearTimeout(a),a=setTimeout(i,250)},window.addEventListener("resize",window.projectsResizeHandler))}}function i(){t.disabled=o<=0,n.disabled=o>=e.scrollWidth-e.offsetWidth-10}}function g(){var e=document.querySelector(".works__track"),t=document.querySelector(".works__arrow--prev"),n=document.querySelector(".works__arrow--next");if(e&&t&&n&&!_){var r=e.querySelectorAll(".works__card");if(0!==r.length){var a,o=0,c=(r[0].offsetWidth||300)+24;t.addEventListener("click",function(){o=Math.max(0,o-c),e.scrollTo({left:o,behavior:"smooth"}),i()}),n.addEventListener("click",function(){var t=e.scrollWidth-e.offsetWidth;o=Math.min(t,o+c),e.scrollTo({left:o,behavior:"smooth"}),i()}),_=!0,i(),window.worksResizeHandler||(window.worksResizeHandler=function(){clearTimeout(a),a=setTimeout(i,250)},window.addEventListener("resize",window.worksResizeHandler))}}function i(){t.disabled=o<=0,n.disabled=o>=e.scrollWidth-e.offsetWidth-10}}function w(){_=!1}function b(){document.querySelectorAll(".projects__gallery-btn").forEach(function(e){e.addEventListener("click",function(){var e=this.getAttribute("data-project-title"),t=this.getAttribute("data-images");try{var n=JSON.parse(t||"[]");n.length>0&&"function"==typeof window.openGallery&&window.openGallery(e,n)}catch(e){console.error("Ошибка открытия галереи:",e)}})})}function k(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof i?r:i,l=Object.create(s.prototype);return C(l,"_invoke",function(n,r,a){var o,i,s,l=0,u=a||[],d=!1,f={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return o=t,i=0,s=e,f.n=n,c}};function v(n,r){for(i=n,s=r,t=0;!d&&l&&!a&&t<u.length;t++){var a,o=u[t],v=f.p,p=o[2];n>3?(a=p===r)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=v&&((a=n<2&&v<o[1])?(i=0,f.v=r,f.n=o[1]):v<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,i=0))}if(a||n>1)return c;throw d=!0,r}return function(a,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&v(u,p),i=u,s=p;(t=i<2?e:s)||!d;){o||(i?i<3?(i>1&&(f.n=-1),v(i,s)):f.n=s:f.v=s);try{if(l=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(d=f.n<0)?s:n.call(r,f))!==c)break}catch(t){o=e,i=1,s=t}finally{l=1}}return{value:t,done:d}}}(n,a,o),!0),l}var c={};function i(){}function s(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(C(t={},r,function(){return this}),t),d=l.prototype=i.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,C(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,C(d,"constructor",l),C(l,"constructor",s),s.displayName="GeneratorFunction",C(l,a,"GeneratorFunction"),C(d),C(d,a,"Generator"),C(d,r,function(){return this}),C(d,"toString",function(){return"[object Generator]"}),(k=function(){return{w:o,m:f}})()}function C(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}C=function(e,t,n,r){function o(t,n){C(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},C(e,t,n,r)}function L(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){L(o,r,a,c,i,"next",e)}function i(e){L(o,r,a,c,i,"throw",e)}c(void 0)})}}function x(e){return e.filter(function(e){var t=(e.status||"").toLowerCase();return"published"===t||"опубликован"===t})}function j(){return(j=E(k().m(function e(){var t,n,a,o,c;return k().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,r("data/projects.json");case 1:if(t=e.v){e.n=2;break}return e.a(2);case 2:if(n=t.projects||[],a=document.getElementById("projects-track")){e.n=3;break}return console.error("Элемент #projects-track не найден"),e.a(2);case 3:if(a.innerHTML="",0!==(o=x(n)).length){e.n=4;break}return a.innerHTML='<div class="projects__empty"><p>Проекты появятся здесь скоро</p></div>',e.a(2);case 4:o.forEach(function(e){var t=u(e);t&&a.appendChild(t)}),y(),b(),e.n=6;break;case 5:e.p=5,c=e.v,console.error("Ошибка загрузки проектов:",c);case 6:return e.a(2)}},e,null,[[0,5]])}))).apply(this,arguments)}function S(){return(S=E(k().m(function e(){var t,n,a,o,c,i,u;return k().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,r("data/contacts.json");case 1:if(t=e.v){e.n=2;break}return e.a(2);case 2:if(n=document.getElementById("contacts-info")){e.n=3;break}return console.error("Элемент #contacts-info не найден"),e.a(2);case 3:n.innerHTML="",t.phone&&(a=s("phone","Телефон",t.phone,"tel:".concat(t.phone.replace(/\D/g,""))),n.appendChild(a)),t.email&&(o=s("email","Email",t.email,"mailto:".concat(t.email)),n.appendChild(o)),t.address&&(c=s("address","Адрес",t.address,null,!0),n.appendChild(c)),(i=l(t.whatsapp,t.telegram))&&n.appendChild(i),p(t),m(t),e.n=5;break;case 4:e.p=4,u=e.v,console.error("Ошибка загрузки контактов:",u);case 5:return e.a(2)}},e,null,[[0,4]])}))).apply(this,arguments)}function q(){return(q=E(k().m(function e(){var t,n,a,o,c,i,s,l;return k().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,r("data/reviews.json");case 1:if(t=e.v){e.n=2;break}return e.a(2);case 2:if(n=t.reviews||[],a=document.getElementById("reviews-grid"),o=document.getElementById("reviews-text"),a&&o){e.n=3;break}return console.error("Элементы #reviews-grid или #reviews-text не найдены"),e.a(2);case 3:if(a.innerHTML="",o.innerHTML="",c=x(n),i=c.filter(function(e){return e.isVideo||e.videoUrl}),s=c.filter(function(e){return!e.isVideo&&!e.videoUrl}),0!==i.length||0!==s.length){e.n=4;break}return a.innerHTML='<div class="reviews__empty"><p>Отзывы появятся здесь скоро</p></div>',e.a(2);case 4:i.forEach(function(e){var t=d(e);t&&a.appendChild(t)}),s.forEach(function(e){var t=f(e);t&&o.appendChild(t)}),e.n=6;break;case 5:e.p=5,l=e.v,console.error("Ошибка загрузки отзывов:",l);case 6:return e.a(2)}},e,null,[[0,5]])}))).apply(this,arguments)}function T(){return(T=E(k().m(function e(){var t,n,a,c,i;return k().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,r("data/works.json");case 1:if(t=e.v){e.n=2;break}return e.a(2);case 2:if(n=t.works||[],a=document.getElementById("works-track")){e.n=3;break}return console.error("Элемент #works-track не найден"),e.a(2);case 3:if(a.innerHTML="",w(),0!==(c=x(n)).length){e.n=4;break}return a.innerHTML='<div class="works__empty"><p>Работы появятся здесь скоро</p></div>',e.a(2);case 4:c.forEach(function(e){var t=v(e,o);t&&a.appendChild(t)}),c.length>0&&setTimeout(function(){g(),document.querySelectorAll(".works__gallery-btn").forEach(function(e){e.addEventListener("click",function(){var e=this.getAttribute("data-project"),t=this.getAttribute("data-images");try{var n=JSON.parse(t||"[]");n.length>0&&"function"==typeof window.openGallery&&window.openGallery(e,n)}catch(e){console.error("Ошибка открытия галереи:",e)}})})},100),e.n=6;break;case 5:e.p=5,i=e.v,console.error("Ошибка загрузки работ:",i);case 6:return e.a(2)}},e,null,[[0,5]])}))).apply(this,arguments)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=document.createElement("div");n.className="notification notification--".concat(t),n.textContent=e,Object.assign(n.style,{position:"fixed",top:"20px",right:"20px",padding:"1rem",borderRadius:"0.375rem",color:"white",zIndex:"9999",transition:"all 0.3s ease",opacity:"0",transform:"translateX(100%)"});var r={success:"#28a745",error:"#dc3545",warning:"#ffc107",info:"#17a2b8"};n.style.backgroundColor=r[t]||r.info,document.body.appendChild(n),requestAnimationFrame(function(){n.style.opacity="1",n.style.transform="translateX(0)"}),setTimeout(function(){n.style.opacity="0",n.style.transform="translateX(100%)",setTimeout(function(){n.parentNode&&n.parentNode.removeChild(n)},300)},3e3)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e){var t=e.replace(/\D/g,""),n=t;if(t.length>0&&(t.startsWith("8")||t.startsWith("7")?n="+7"+t.slice(1):t.startsWith("+7")||(n="+7"+t),n.length>2)){var r=n.match(/^\+7(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);r&&(n="+7",r[1]&&(n+=" ("+r[1]),r[2]&&(n+=") "+r[2]),r[3]&&(n+="-"+r[3]),r[4]&&(n+="-"+r[4]))}return n}(e.value.replace(/\D/g,""));e.value=n;var r=/^(\+7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(n.replace(/\D/g,""))&&11===n.replace(/\D/g,"").length;return n.length>0?r?(e.classList.remove("invalid"),e.classList.add("valid")):(e.classList.remove("valid"),e.classList.add("invalid"),t&&n.length>=5&&A("Укажите корректный номер телефона","error")):e.classList.remove("valid","invalid"),r}var O={"gas-block":{box:25e3,clean:35e3,turnkey:45e3},brick:{box:3e4,clean:4e4,turnkey:5e4},frame:{box:2e4,clean:3e4,turnkey:4e4}};var H=[],N=0,I=null,B=null,G=null,P=null;function D(e,t){if(t&&0!==t.length){H=t,N=0;var n=document.getElementById("gallery-project-name");n&&(n.textContent=e||"Проект"),I.classList.add("gallery-modal--active"),I.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",W(),F()}else console.warn("Нет изображений для отображения")}function R(){I.classList.remove("gallery-modal--active"),I.setAttribute("aria-hidden","true"),document.body.style.overflow="",H=[],N=0}function W(){var e=document.getElementById("gallery-main-image"),t=document.getElementById("gallery-loader");if(e&&0!==H.length){t&&(t.style.display="flex");var n=new Image;n.src=H[N],n.onload=function(){e.src=H[N],e.alt="Фото проекта ".concat(N+1),t&&(t.style.display="none"),P&&(P.innerHTML="",H.forEach(function(e,t){var n=function(e,t){var n=document.createElement("button");n.className="gallery-modal__thumbnail",n.setAttribute("aria-label","Перейти к фото ".concat(t+1)),n.setAttribute("role","tab"),n.setAttribute("aria-selected",t===N),t===N&&n.classList.add("gallery-modal__thumbnail--active");var r=document.createElement("img");return r.src=e,r.alt="Миниатюра ".concat(t+1),r.loading="lazy",n.appendChild(r),n.addEventListener("click",function(){N=t,W(),F()}),n}(e,t);P.appendChild(n)})),B&&(B.disabled=0===N),G&&(G.disabled=N>=H.length-1)},n.onerror=function(){e.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='600'%3E%3Crect fill='%23f5f5f5' width='800' height='600'/%3E%3Ctext fill='%23999' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3EОшибка загрузки%3C/text%3E%3C/svg%3E",t&&(t.style.display="none")}}}function F(){var e=document.getElementById("gallery-current"),t=document.getElementById("gallery-total");e&&(e.textContent=N+1),t&&(t.textContent=H.length)}function z(e){"prev"===e&&N>0?(N--,W(),F()):"next"===e&&N<H.length-1&&(N++,W(),F())}function Z(e){"Escape"===e.key&&I.classList.contains("gallery-modal--active")?R():I.classList.contains("gallery-modal--active")&&("ArrowLeft"===e.key&&N>0?(N--,W(),F()):"ArrowRight"===e.key&&N<H.length-1&&(N++,W(),F()))}document.addEventListener("DOMContentLoaded",function(){var e,t,n,r,a;console.log("✅ DOM загружен, начинаем инициализацию"),function(){return j.apply(this,arguments)}().catch(function(e){console.error("❌ Ошибка при загрузке проектов:",e)}),function(){return S.apply(this,arguments)}().catch(function(e){console.error("❌ Ошибка при загрузке контактов:",e)}),function(){return q.apply(this,arguments)}().catch(function(e){console.error("❌ Ошибка при загрузке отзывов:",e)}),function(){return T.apply(this,arguments)}().catch(function(e){console.error("❌ Ошибка при загрузке работ:",e)}),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})}),function(){var e=document.querySelector("#floating-buttons");if(e){var t=0;window.addEventListener("scroll",function(){var n=window.pageYOffset||document.documentElement.scrollTop;n>300?(e.style.display="flex",e.style.opacity=n>t?"0.7":"1"):e.style.opacity="0",t=n})}}(),e=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("animate-in")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),document.querySelectorAll("section").forEach(function(t){e.observe(t)}),t=document.querySelector(".nav__burger"),n=document.querySelector(".nav__menu"),r=document.querySelector(".nav__container"),t&&n&&(t.addEventListener("click",function(){var e=n.classList.contains("nav__menu--active");n.classList.toggle("nav__menu--active"),t.classList.toggle("nav__burger--active"),t.setAttribute("aria-label",e?"Открыть меню":"Закрыть меню"),t.setAttribute("aria-expanded",!e),document.body.style.overflow=e?"":"hidden"}),n.querySelectorAll(".nav__link").forEach(function(e){e.addEventListener("click",function(){n.classList.remove("nav__menu--active"),t.classList.remove("nav__burger--active"),t.setAttribute("aria-label","Открыть меню"),t.setAttribute("aria-expanded","false"),document.body.style.overflow=""})}),document.addEventListener("click",function(e){!n.classList.contains("nav__menu--active")||r.contains(e.target)||t.contains(e.target)||(n.classList.remove("nav__menu--active"),t.classList.remove("nav__burger--active"),t.setAttribute("aria-label","Открыть меню"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="")})),(a=document.querySelectorAll(".faq__item")).forEach(function(e){var t=e.querySelector(".faq__question");t&&t.addEventListener("click",function(){var n=e.classList.contains("active");a.forEach(function(t){if(t!==e){t.classList.remove("active");var n=t.querySelector(".faq__question");n&&n.setAttribute("aria-expanded","false")}}),n?(e.classList.remove("active"),t.setAttribute("aria-expanded","false")):(e.classList.add("active"),t.setAttribute("aria-expanded","true"))})}),function(){if(I=document.getElementById("gallery-modal")){var e=I.querySelector(".gallery-modal__close"),t=I.querySelector(".gallery-modal__overlay");B=I.querySelector(".gallery-modal__arrow--prev"),G=I.querySelector(".gallery-modal__arrow--next"),P=document.getElementById("gallery-thumbnails"),window.openGallery=D,e&&e.addEventListener("click",R),t&&t.addEventListener("click",R),B&&B.addEventListener("click",function(){return z("prev")}),G&&G.addEventListener("click",function(){return z("next")}),document.addEventListener("keydown",Z)}}();var o=document.querySelector(".contact__form");o&&o.addEventListener("submit",function(e){e.preventDefault();var t=new FormData(this);Object.fromEntries(t),A("Сообщение отправлено успешно!","success"),this.reset()});var c,i,s,l,u,d,f,v,p=document.querySelector("#cta-form");p&&(c=p,i=document.querySelector("#form-progress"),s=document.querySelector(".cta__form-progress"),l=c.querySelector(".cta__form-submit"),u=l.querySelector(".cta__form-submit-text"),d=l.querySelector(".cta__form-submit-loading"),f=c.querySelectorAll("input[required], select[required]"),v=function(){return function(e,t,n){var r=0;n.forEach(function(e){"checkbox"===e.type?e.checked&&r++:""!==e.value.trim()&&r++});var a=r/n.length*100;a>0?(t.classList.add("active"),e.style.width=a+"%"):t.classList.remove("active")}(i,s,f)},f.forEach(function(e){e.addEventListener("input",v),e.addEventListener("change",v),"tel"===e.type&&"cta-phone"===e.id&&(e.addEventListener("input",function(){return M(e)}),e.addEventListener("blur",function(){return M(e,!0)}))}),c.addEventListener("submit",function(e){e.preventDefault(),function(e,t,n,r,a){t.disabled=!0,n.style.display="none",r.style.display="inline-block";var o=new FormData(e);Object.fromEntries(o),setTimeout(function(){A("Спасибо! Мы свяжемся с вами в течение 15 минут","success"),t.disabled=!1,n.style.display="inline-block",r.style.display="none",e.reset(),a()},1500)}(c,l,u,d,v)})),function(){var e=document.querySelector("#calculator-form"),t=document.querySelector("#result-price");function n(){var e=function(e,t,n){var r;if(e<20||e>500)return null;var a=e*((null===(r=O[t])||void 0===r?void 0:r[n])||25e3);return Math.round(.9*a)}(parseFloat(document.querySelector("#calc-area").value)||0,document.querySelector("#calc-type").value,document.querySelector("#calc-finish").value);t.textContent=null===e?"—":new Intl.NumberFormat("ru-RU").format(e)}e&&t&&(e.addEventListener("input",n),e.addEventListener("change",n),e.addEventListener("submit",function(e){var t,n,r;e.preventDefault(),t=new FormData(this),n=Object.fromEntries(t),(r=document.querySelector("#cta"))&&(r.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(function(){var e=document.querySelector("#cta-area");e&&(e.value=n.area)},500))}),n())}()})})();